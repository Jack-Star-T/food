"use strict";(self["webpackChunklove_story"]=self["webpackChunklove_story"]||[]).push([[179],{4555:function(t,e,s){s.d(e,{Z:function(){return m}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header-main-box"})},i=[];const a={default:{bgColor:"#6A347E",subBgColor:"#FF8B5F",textColor:"",subTextColor:""}},n=t=>{for(let e in t)document.getElementsByTagName("body")[0].style.setProperty(`--${e}`,t[e])},l=t=>{localStorage.setItem("theme",t);const e=a[t];if(e)n(e);else{let t={primaryColor:localStorage.getItem("primaryColor"),primaryTextColor:localStorage.getItem("primaryTextColor")};n(t)}};var d={name:"Header",methods:{setTheme(t){l(t)}}},r=d,c=s(1001),u=(0,c.Z)(r,o,i,!1,null,"89b30312",null),m=u.exports},9521:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});s(7658);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"index-main-box"},[e("header",[t._m(0),e("div",{staticClass:"settings-box",on:{click:function(e){return t.$router.push("/settings")}}},[e("i",{staticClass:"iconfont icon-shezhi"}),e("span",[t._v("设置菜单")])])]),e("div",{staticClass:"options-box"},[t._v(t._s(t.foodList[t.nowIndex]))]),t.loading?e("div",{staticClass:"action-button loading"},[t._v(t._s(t.steps)+"s后暂停")]):e("div",{staticClass:"action-button",on:{click:t.timeToEat}},[t._v("开饭啦")])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title-box"},[e("i",{staticClass:"iconfont icon-zhu"}),e("span",[t._v("猪猪菜单")])])}],a=s(4555),n=(s(5743),{name:"index",components:{Header:a.Z},data(){return{loading:!1,steps:3,timer:null,stepsTimer:null,nowIndex:0,foodList:["拌粉","凉皮","麻辣烫","新丰小吃","汉堡王","螺蛳粉","百味鸡","吉祥馄饨","咬不得"]}},activated(){this.initFoodList()},beforeDestroy(){clearInterval(this.stepsTimer),clearInterval(this.timer)},methods:{initFoodList(){localStorage.getItem("foodList")&&(this.foodList=JSON.parse(localStorage.getItem("foodList")))},randomNum(t,e){switch(arguments.length){case 1:return parseInt(Math.random()*t+1,10);case 2:return parseInt(Math.random()*(e-t+1)+t,10);default:return 0}},timeToEat(){this.steps=this.randomNum(3,5),this.loading=!0,this.timer=setInterval((()=>{this.nowIndex=this.randomNum(0,this.foodList.length-1)}),36),this.stepsTimer=setInterval((()=>{this.steps--,0===this.steps&&(this.loading=!1,clearInterval(this.stepsTimer),clearInterval(this.timer))}),1e3)}}}),l=n,d=s(1001),r=(0,d.Z)(l,o,i,!1,null,"fa9d0bd8",null),c=r.exports},3773:function(t,e,s){s.r(e),s.d(e,{default:function(){return c}});var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-main-box"},[e("div",{staticClass:"header"},[e("i",{staticClass:"iconfont icon-zhiyuanfanhui1",on:{click:t.goBack}}),e("span",[t._v("菜单编辑")])]),e("div",{staticClass:"food-list-box"},[t._l(t.foodList,(function(s,o){return e("div",{key:o,staticClass:"food-item"},[e("span",[t._v(t._s(s))]),e("i",{staticClass:"iconfont icon-cuowu",on:{click:function(e){return t.showDeleteModal(s,o)}}})])})),e("div",{key:"new",staticClass:"food-item new",on:{click:t.showAddModal}},[t._v(" + 菜单新增 ")])],2),e("div",{staticClass:"action-button",on:{click:t.save}},[t._v("保存")]),e("van-popup",{model:{value:t.addModal,callback:function(e){t.addModal=e},expression:"addModal"}},[e("div",{staticClass:"add-box"},[e("div",{staticClass:"title"},[t._v("菜单新增")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",placeholder:"猪猪想吃啥呀"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),e("div",{staticClass:"bottom-button-box"},[e("div",{staticClass:"cancel button-item",on:{click:function(e){t.addModal=!1}}},[t._v("取消")]),e("div",{staticClass:"confirm button-item",on:{click:t.confirmAdd}},[t._v("确认")])])])]),e("van-popup",{model:{value:t.deleteModal,callback:function(e){t.deleteModal=e},expression:"deleteModal"}},[e("div",{staticClass:"add-box"},[e("div",{staticClass:"title"},[t._v("提示")]),e("div",{staticClass:"tips"},[t._v("确认要删除"+t._s(t.temp.name)+"吗？")]),e("div",{staticClass:"bottom-button-box"},[e("div",{staticClass:"cancel button-item",on:{click:function(e){t.deleteModal=!1}}},[t._v(" 取消 ")]),e("div",{staticClass:"confirm button-item",on:{click:function(e){return t.confirmDelete()}}},[t._v("确认")])])])])],1)},i=[],a=(s(7658),s(4555)),n={name:"index",components:{Header:a.Z},data(){return{addModal:!1,deleteModal:!1,text:"",temp:{name:"",index:0},foodList:["拌粉","凉皮","麻辣烫","新丰小吃","汉堡王","螺蛳粉","百味鸡","砂锅","咬不得"]}},activated(){this.initFoodList()},methods:{initFoodList(){localStorage.getItem("foodList")&&(this.foodList=JSON.parse(localStorage.getItem("foodList")))},save(){localStorage.setItem("foodList",JSON.stringify(this.foodList)),this.goBack()},showAddModal(){this.text="",this.addModal=!0},confirmAdd(){this.foodList.push(this.text),this.addModal=!1},confirmDelete(){this.foodList.splice(this.temp.index,1),this.deleteModal=!1},showDeleteModal(t,e){this.temp.name=t,this.temp.index=e,this.deleteModal=!0},goBack(){this.$router.back(-1)}}},l=n,d=s(1001),r=(0,d.Z)(l,o,i,!1,null,"b2d8539e",null),c=r.exports}}]);
//# sourceMappingURL=main.164e79d8.js.map